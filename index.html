<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sneakrun</title>
  <link rel ="icon" type="image/png" href ="Keyloops_20251026_201720_0000.png">
  <style>
* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
  font-family: 'Segoe UI', sans-serif; 
}

html, body {
  width: 100%;
  overflow-x: hidden; /* cegah scroll horizontal */
}

body { 
  background: #ffffff; 
  color: #000; 
}

/* ========== HEADER ========== */
header {
  text-align: center;
  padding: 60px 20px;
  background: linear-gradient(135deg, #d4a373, #ccd5ae);
  color: #fff;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  position: relative;
}

@media (min-width: 1024px) {
  header {
    text-align: left;
    padding: 40px 60px;
  }
  header h1 {
    font-size: 48px;
    margin-bottom: 10px;
  }
}

/* ========== HERO SECTION ========== */
.hero {
  background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('WhatsApp Image 2025-11-09 at 10.54.53_33926b4f.jpg');
  background-size: cover;
  background-position: center;
  height: 420px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  text-align: center;
  margin-bottom: 2rem;
  position: relative;
}

.hero-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 15px;
  padding: 20px;
}

.hero-content h1 {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.hero-content p {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
}

/* Desktop Hero - Posisi countdown & button di bawah */
@media (min-width: 1024px) {
  .hero {
    height: 500px;
  }

  .hero-content {
    gap: 20px;
  }

  .hero-content h1 {
    font-size: 3.5rem;
  }

  .hero-content p {
    font-size: 1.5rem;
  }
}

/* ========== COUNTDOWN BOX ========== */
.countdown-box {
  display: inline-block;
  text-align: center;
  background: rgba(255,255,255,0.1);
  padding: 20px 30px;
  border-radius: 20px;
  backdrop-filter: blur(8px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.countdown-title {
  font-size: 1.3rem;
  font-weight: bold;
  color: #fff;
  margin-bottom: 12px;
  letter-spacing: 1px;
  text-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

.countdown {
  display: flex;
  justify-content: center;
  gap: 12px;
}

.time-box {
  background: rgba(255,255,255,0.25);
  padding: 10px 15px;
  border-radius: 10px;
  min-width: 60px;
  text-align: center;
  color: white;
  backdrop-filter: blur(5px);
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  border: 2px solid rgba(255,255,255,0.3);
  transition: all 0.3s ease;
}

.time-box:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  background: rgba(255,255,255,0.35);
}

.time-box span {
  display: block;
  font-size: 1.8rem;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  margin-bottom: 5px;
}

.time-box small {
  font-size: 0.75rem;
  opacity: 0.9;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-weight: 500;
}

/* Desktop countdown - lebih besar & mewah */
@media (min-width: 1024px) {
  .countdown-box {
    padding: 30px 60px;
    border-radius: 25px;
  }

  .countdown-title {
    font-size: 2rem;
    margin-bottom: 20px;
  }

  .countdown {
    gap: 20px;
  }

  .time-box {
    min-width: 100px;
    padding: 20px 25px;
    border-radius: 15px;
    border: 3px solid rgba(255,255,255,0.4);
  }

  .time-box span {
    font-size: 2.5rem;
    margin-bottom: 8px;
  }

  .time-box small {
    font-size: 0.9rem;
  }
}

/* ========== BUTTONS ========== */
.btn {
  display: inline-block;
  padding: 0.6rem 1.5rem;
  border-radius: 30px;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: bold;
}

.hero .btn-primary {
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border: 2px solid white;
  padding: 0.8rem 2rem;
  backdrop-filter: blur(5px);
  font-size: 1rem;
}

.hero .btn-primary:hover {
  background-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.hero .btn-primary:active {
  transform: translateY(0);
}

@media (min-width: 1024px) {
  .hero .btn-primary {
    padding: 1rem 3rem;
    font-size: 1.1rem;
  }
}

/* ========== SEARCH CONTAINER ========== */
.search-container {
  max-width: 600px;
  margin: 30px auto;
  padding: 0 20px;
}

.search-box {
  position: relative;
  width: 100%;
}

#searchInput {
  width: 100%;
  padding: 12px 40px 12px 40px;
  border: 2px solid #ddd;
  border-radius: 25px;
  font-size: 16px;
  outline: none;
  transition: 0.3s;
}

#searchInput:focus {
  border-color: #d4a373;
  box-shadow: 0 0 10px rgba(212, 163, 115, 0.3);
}

.search-icon {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #999;
  pointer-events: none;
}

.search-clear {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 20px;
  color: #999;
  cursor: pointer;
  display: none;
  transition: 0.2s;
}

.search-clear:hover {
  color: #333;
}

/* ========== CART BUTTON ========== */
.cart-btn { 
  background: none; 
  border: none; 
  cursor: pointer; 
  position: fixed; 
  top: 20px; 
  right: 20px; 
  z-index: 999;
  font-size: 24px;
}

.cart-count {
  position: absolute; 
  top: -8px; 
  right: -8px;
  background: red; 
  color: white; 
  border-radius: 50%;
  width: 20px; 
  height: 20px; 
  display: flex;
  align-items: center; 
  justify-content: center;
  font-size: 12px; 
  font-weight: bold;
  display: none;
}

/* ========== SECTION ========== */
.section { 
  padding: 40px 20px; 
  max-width: 1000px; 
  margin: auto; 
}

.section h2 { 
  font-size: 24px; 
  margin-bottom: 20px; 
  text-align: center; 
}

/* ========== PRODUCTS ========== */
.product-grid { 
  display: grid; 
  grid-template-columns: repeat(2, 1fr); 
  gap: 20px; 
}

@media (min-width: 768px) {
  .product-grid { 
    grid-template-columns: repeat(4, 1fr); 
  }
}

.product-card {
  position: relative;
  background: #fff; 
  border-radius: 15px; 
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
  padding: 15px;
  text-align: center; 
  transition: 0.3s;
}

.product-card:hover { 
  transform: translateY(-2px); 
}

.product-card.hidden { 
  display: none; 
}

.product-card img { 
  width: 100%; 
  height: 180px; 
  object-fit: cover; 
  border-radius: 10px; 
}

.product-name { 
  font-size: 16px; 
  font-weight: 600; 
  margin: 10px 0; 
}

.product-price { 
  font-size: 16px; 
  font-weight: 500;
  color: #000;
  margin-bottom: 10px;
}

.product-price s {
  color: #000;
  opacity: 0.6;
  font-size: 15px;
  display: block;
  margin-bottom: 2px;
}

.product-price strong {
  color: #000;
  font-weight: 700;
  font-size: 17px;
}

.product-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  background: linear-gradient(135deg, #d4a373, #ccd5ae);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.product-badge::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(135deg, #d4a373, #ccd5ae);
  border-radius: 14px;
  z-index: -1;
  opacity: 0.3;
}

.add-btn { 
  background: #000; 
  color: #fff; 
  border: none; 
  padding: 8px 14px; 
  border-radius: 20px; 
  cursor: pointer; 
  font-size: 14px; 
}

.add-btn:hover { 
  background: #444; 
}

/* ========== NO RESULTS ========== */
.no-results {
  text-align: center;
  padding: 40px 20px;
  color: #666;
  display: none;
}

.no-results h3 { 
  font-size: 24px; 
  margin-bottom: 10px; 
}

.no-results p { 
  font-size: 16px; 
}

/* ========== CART SECTION ========== */
.cart-section { 
  display: none; 
  background: #f8f9fa;
  position: fixed;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;  
  z-index: 1000;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

@media (min-width: 1024px) {
  .cart-section {
    width: 60%;
    height: auto;
    max-height: 90vh;
    top: 5%;
    bottom: auto;
    left: auto;
    right: 5%;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }

  .cart-content {
    max-height: 70vh;
    overflow-y: auto;
  }
}

.cart-header {
  background: linear-gradient(135deg, #d4a373, #ccd5ae);
  color: white;
  padding: 20px;
  text-align: center;
  position: relative;
}

.cart-header h1 {
  font-size: 28px;
  font-weight: 700;
  margin: 0;
}

.cart-header p {
  margin-top: 5px;
  opacity: 0.9;
  font-size: 16px;
}

.close-cart {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: white;
  font-size: 28px;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: 0.3s;
}

.close-cart:hover {
  background: rgba(255, 255, 255, 0.2);
}

.cart-content {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

/* ========== CUSTOMER FORM ========== */
.customer-form {
  background: white;
  border-radius: 15px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.customer-form h3 {
  margin-bottom: 20px;
  font-size: 20px;
  color: #333;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 15px;
  margin-bottom: 15px;
}

@media (min-width: 768px) {
  .form-row {
    grid-template-columns: 1fr 1fr;
  }
}

.input-field { 
  width: 100%; 
  padding: 12px 15px; 
  border: 2px solid #e0e0e0; 
  border-radius: 10px; 
  font-size: 16px; 
  transition: 0.3s;
  outline: none;
}

.input-field:focus {
  border-color: #d4a373;
  box-shadow: 0 0 5px rgba(212, 163, 115, 0.3);
}

.promo-section {
  display: flex;
  gap: 10px;
  align-items: center;
}

.promo-section .input-field {
  flex: 1;
}

.promo-btn {
  background: #d4a373;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: 0.3s;
  white-space: nowrap;
}

.promo-btn:hover {
  background: #c49668;
}

.promo-message {
  font-size: 14px;
  color: red;
  margin-left: 8px;
}

@media (max-width: 768px) {
  .promo-section {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  .promo-message {
    order: 3;
    margin-left: 0;
    text-align: center;
    width: 100%;
    font-size: 13px;
  }
}

/* ========== RECEIPT ========== */
.receipt-container { 
  background: #fff; 
  border-radius: 15px; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
  overflow: hidden;
  margin-top: auto;
}

.receipt-header { 
  background: linear-gradient(135deg, #ca9b6c);
  padding: 20px; 
  color: white; 
  text-align: center; 
}

.receipt-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 5px;
}

.receipt-subtitle {
  opacity: 0.8;
  font-size: 16px;
}

.receipt-items { 
  padding: 20px; 
  min-height: 200px; 
}

.receipt-item { 
  display: flex; 
  justify-content: space-between; 
  align-items: center;
  padding: 15px 0; 
  border-bottom: 1px dashed #e0e0e0;
  gap: 12px;  /* TAMBAHKAN INI */
}

/* TAMBAHKAN CSS BARU INI */
.item-image {
  width: 70px;  /* Mobile default 70px */
  height: 70px;
  object-fit: cover;
  border-radius: 8px;
  flex-shrink: 0;
}

/* Desktop 90px */
@media (min-width: 1024px) {
  .item-image {
    width: 90px;
    height: 90px;
  }
}
.receipt-item:last-child {
  border-bottom: none;
}

.item-info {
  flex: 1;
}

.item-name {
  font-weight: 600;
  margin-bottom: 5px;
}

.item-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 5px;
}

.qty-btn { 
  background: #000; 
  color: #fff; 
  border: none; 
  border-radius: 50%; 
  width: 28px; 
  height: 28px; 
  font-weight: bold; 
  cursor: pointer; 
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.3s;
}

.qty-btn:hover {
  background: #333;
}

.quantity {
  min-width: 30px;
  text-align: center;
  font-weight: 600;
}

.item-price {
  font-weight: 700;
  color: #333;
  min-width: 80px;
  text-align: right;
}

.receipt-summary {
  border-top: 2px solid #e0e0e0;
  padding: 20px;
  background: #f8f9fa;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-size: 16px;
}

.summary-row.total {
  font-size: 20px;
  font-weight: 700;
  border-top: 1px solid #ddd;
  padding-top: 10px;
  margin-top: 15px;
  margin-bottom: 0;
}

.checkout-btn {
  background: #d4a373;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 10px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  margin-top: 20px;
  transition: 0.3s;
}

.checkout-btn:hover {
  background: #c49668;
}

.checkout-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
}

/* ========== EMPTY CART ========== */
.empty-cart {
  text-align: center;
  padding: 40px 20px;
  color: #666;
}

.empty-cart-icon {
  font-size: 48px;
  margin-bottom: 20px;
  color: #ccc;
}

.empty-cart h3 {
  font-size: 24px;
  margin-bottom: 10px;
  color: #333;
}

.empty-cart p {
  font-size: 16px;
  margin-bottom: 20px;
}

.continue-shopping {
  background: #d4a373;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
}

.continue-shopping:hover {
  background: #c49668;
}

/* ========== FOOTER ========== */
footer { 
  background: #ccd5ae; 
  padding: 25px; 
  text-align: left; 
  margin-top: 40px; 
  border-top-left-radius: 40px; 
  border-top-right-radius: 40px; 
}

footer h2 { 
  font-size: 20px; 
  margin-bottom: 10px; 
}

footer p { 
  margin: 5px 0; 
  font-size: 14px; 
}

.footer-content {
  flex-wrap: wrap;
  gap: 1.5rem;
}

.footer-column {
  flex: 1 1 45%;
  min-width: 150px;
}

@media (max-width: 480px) {
  .footer-column {
    flex: 1 1 100%;
  }
}

/* ========== PRODUCT ACTIONS ========== */
.product-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 10px;
  width: 100%;
}

.details-btn-product {
  background: transparent;
  color: #d4a373;
  border: 2px solid #d4a373;
  padding: 8px 14px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 14px;
  transition: 0.3s;
  text-decoration: none;
  display: inline-block;
  text-align: center;
}

.details-btn-product:hover {
  background: #d4a373;
  color: white;
}

/* ========== PRODUCT DETAILS MODAL ========== */
.product-details-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #fafafa;
  z-index: 2000;
  overflow-y: auto;
  padding: 16px;
}

.product-details-modal.active {
  display: block;
}

.close-details-btn {
  width: 32px;
  height: 32px;
  cursor: pointer;
  position: fixed;
  top: 16px;
  left: 16px;
  z-index: 2001;
  transition: transform 0.2s;
  background: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border: none;
}

.close-details-btn:hover {
  transform: scale(1.1);
}

.page-title-details {
  font-size: 28px;
  font-weight: 700;
  color: #000;
  margin-bottom: 24px;
  text-align: center;
  margin-top: 60px;
}

/* ========== PRODUCT SECTION DETAILS ========== */
.product-section-details {
  display: flex;
  gap: 32px;
  align-items: flex-start;
  flex-direction: row; /* TAMBAHKAN INI */
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Desktop Layout - Image Left, Info Right */
@media (min-width: 1024px) {
  .product-section-details {
    flex-direction: row; /* PASTIKAN ROW */
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: flex-start;
    padding: 0 40px;
  }
}

/* ========== IMAGE SLIDER CONTAINER ========== */
.image-slider-container {
  position: relative;
  width: 100%;
  max-width: 480px;
  flex-shrink: 0; /* PENTING: Jangan menyusut */
}

/* Desktop - Image Slider di kiri */
@media (min-width: 1024px) {
  .image-slider-container {
    margin: 0;
  }
}

/* ========== PRODUCT INFO DETAILS ========== */
.product-info-details {
  flex: 1; /* AMBIL SISA SPACE */
  min-width: 300px;
}

/* Desktop - Info di kanan, align left */
@media (min-width: 1024px) {
  .product-info-details {
    text-align: left;
    flex: 1;
    padding-left: 20px;
  }
}

/* ========== MOBILE RESPONSIVE ========== */
@media (max-width: 1023px) {
  .product-section-details {
    flex-direction: column; /* MOBILE: VERTICAL */
    align-items: center;
  }
  
  .image-slider-container {
    max-width: 100%;
  }
  
  .product-info-details {
    text-align: left;
    width: 100%;
    padding-left: 0;
  }
}
/* ========== IMAGE SLIDER CONTAINER ========== */
.image-slider-container {
  position: relative;
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  flex-shrink: 0;
}

/* Desktop - Image Slider di kiri */
@media (min-width: 1024px) {
  .image-slider-container {
    margin: 0;
    margin-left: 0;
  }
}

.image-slider-details {
  display: flex;
  overflow: hidden;
  width: 100%;
  border-radius: 12px;
  background: white;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  padding: 10px;
  position: relative;
}

.image-slider-details img {
  width: 100%;
  max-width: 460px;
  height: 360px;
  object-fit: cover;
  border-radius: 8px;
  flex-shrink: 0;
  display: none;
}

.image-slider-details img.active {
  display: block;
}

/* ========== SLIDER NAVIGATION BUTTONS ========== */
.slider-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.9);
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  font-weight: bold;
  color: #333;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  transition: all 0.3s;
  z-index: 10;
}

.slider-nav-btn:hover {
  background: rgba(212, 163, 115, 0.9);
  color: white;
  transform: translateY(-50%) scale(1.1);
}

.slider-nav-btn:active {
  transform: translateY(-50%) scale(0.95);
}

.slider-nav-btn.prev {
  left: 10px;
}

.slider-nav-btn.next {
  right: 10px;
}

.slider-nav-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.slider-nav-btn:disabled:hover {
  background: rgba(255, 255, 255, 0.9);
  color: #333;
  transform: translateY(-50%) scale(1);
}

/* ========== IMAGE COUNTER ========== */
.image-counter {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.6);
  color: white;
  padding: 5px 15px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  z-index: 10;
}

/* ========== DOTS NAVIGATION ========== */
.slider-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 15px;
}

.slider-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ddd;
  cursor: pointer;
  transition: all 0.3s;
}

.slider-dot.active {
  background: #d4a373;
  width: 12px;
  height: 12px;
}

.slider-dot:hover {
  background: #c49668;
}

/* ========== PRODUCT INFO DETAILS ========== */
.product-info-details {
  flex: 1;
  min-width: 300px;
  max-width: 600px;
}

/* Desktop - Info di kanan, align left */
@media (min-width: 1024px) {
  .product-info-details {
    text-align: left;
    max-width: none;
    flex: 1;
    padding-left: 20px;
  }
}

.section-title-details {
  font-size: 14px;
  font-weight: 600;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  margin-bottom: 8px;
  margin-top: 20px;
}

.section-title-details:first-child {
  margin-top: 0;
}

.product-title-details {
  font-size: 32px;
  font-weight: 700;
  color: #222;
  margin-bottom: 16px;
  line-height: 1.2;
}

.product-price-details {
  color: #d4a373;
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 20px;
}

.product-description-details {
  font-size: 16px;
  color: #555;
  line-height: 1.8;
}

.add-to-cart-details-btn {
  background-color: #d4a373;
  color: white;
  border: none;
  padding: 16px 32px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 32px;
  width: 100%;
  max-width: 300px;
  transition: background-color 0.3s, transform 0.2s;
}

.add-to-cart-details-btn:hover {
  background-color: #c49668;
  transform: translateY(-2px);
}

.add-to-cart-details-btn:active {
  transform: translateY(0);
}

/* ========== MOBILE RESPONSIVE ========== */
@media (max-width: 768px) {
  .product-section-details {
    flex-direction: column;
    align-items: center;
  }
  
  .image-slider-container {
    max-width: 100%;
  }
  
  .product-info-details {
    text-align: left;
    width: 100%;
    padding-left: 0;
  }
  
  .page-title-details {
    font-size: 24px;
    margin-top: 50px;
  }
  
  .product-title-details {
    font-size: 26px;
  }
  
  .product-price-details {
    font-size: 24px;
  }
  
  .add-to-cart-details-btn {
    max-width: 100%;
  }
  
  .slider-nav-btn {
    width: 35px;
    height: 35px;
    font-size: 18px;
  }
  
  .slider-nav-btn.prev {
    left: 5px;
  }
  
  .slider-nav-btn.next {
    right: 5px;
  }
}
/* ========== SIZE SELECTION MODAL ========== */
.size-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 3000;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
}

.size-modal.active {
  display: flex;
}

.size-modal-content {
  background: white;
  border-radius: 20px;
  padding: 30px;
  max-width: 450px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.size-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #f0f0f0;
}

.size-modal-title {
  font-size: 22px;
  font-weight: 700;
  color: #333;
}

.size-modal-close {
  background: none;
  border: none;
  font-size: 28px;
  color: #999;
  cursor: pointer;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.3s;
}

.size-modal-close:hover {
  background: #f0f0f0;
  color: #333;
}

.size-product-info {
  display: flex;
  gap: 15px;
  margin-bottom: 25px;
  padding: 15px;
  background: #f8f9fa;
  border-radius: 12px;
}

.size-product-image {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 10px;
  flex-shrink: 0;
}

.size-product-details {
  flex: 1;
}

.size-product-name {
  font-size: 16px;
  font-weight: 600;
  color: #333;
  margin-bottom: 5px;
}

.size-product-price {
  font-size: 18px;
  font-weight: 700;
  color: #d4a373;
}

.size-selection-label {
  font-size: 16px;
  font-weight: 600;
  color: #333;
  margin-bottom: 15px;
  display: block;
}

.size-options {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin-bottom: 25px;
}

@media (max-width: 480px) {
  .size-options {
    grid-template-columns: repeat(3, 1fr);
  }
}

.size-option {
  background: white;
  border: 2px solid #e0e0e0;
  padding: 12px;
  border-radius: 10px;
  cursor: pointer;
  text-align: center;
  font-size: 16px;
  font-weight: 600;
  color: #333;
  transition: all 0.3s;
}

.size-option:hover {
  border-color: #d4a373;
  background: #fef9f5;
  transform: translateY(-2px);
}

.size-option.selected {
  background: #d4a373;
  border-color: #d4a373;
  color: white;
}

.size-option.out-of-stock {
  background: #f5f5f5;
  border-color: #e0e0e0;
  color: #999;
  cursor: not-allowed;
  text-decoration: line-through;
}

.size-option.out-of-stock:hover {
  transform: none;
  background: #f5f5f5;
  border-color: #e0e0e0;
}

.size-confirm-btn {
  width: 100%;
  background: #d4a373;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.size-confirm-btn:hover {
  background: #c49668;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(212, 163, 115, 0.3);
}

.size-confirm-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
  transform: none;
}

.size-error-message {
  color: #e74c3c;
  font-size: 14px;
  text-align: center;
  margin-top: 10px;
  display: none;
}
  </style>
</head>
<body>

    <!-- Cart Button -->
    <button class="cart-btn" onclick="toggleCart()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                        </svg>
      <span class="cart-count" id="cartCount">0</span>
    </button>
      <!-- Main Section -->
  <div class="main-section"></div>

    <!-- Header -->
    <header>
      <h1>Sneakrun</h1>
    </header>
        <section class="hero">
        <div class="hero-content">
            <h1>Welcome to Sneakrun</h1>
            <p>Maximum looks and maximum speedâ€” thatâ€™s Sneakrun.</p>
<div class="countdown-box">
  <div class="countdown-title">ðŸŽ‰ Discount 20%</div>
  <div id="countdown" class="countdown">
    <div class="time-box">
      <span id="days">00</span>
      <small>Days</small>
    </div>
    <div class="time-box">
      <span id="hours">00</span>
      <small>Hours</small>
    </div>
    <div class="time-box">
      <span id="minutes">00</span>
      <small>Min</small>
    </div>
    <div class="time-box">
      <span id="seconds">00</span>
      <small>Sec</small>
    </div>
  </div>
</div>
           <button class="btn btn-primary" onclick="scrollToProducts()">Shop Now</button>
        </div>
    </section>

    <!-- Search Bar -->
<div class="search-container">
  <div class="search-box">
    <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 
               16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 
               5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 
               4.99L20.49 19l-4.99-5zm-6 0C7.01 14 
               5 11.99 5 9.5S7.01 5 9.5 5 
               14 7.01 14 9.5 11.99 14 9.5 14z"/>
    </svg>
    <input type="text" id="searchInput" placeholder="Search shoes" oninput="searchKeychain()">
    <button id="searchClear" class="search-clear" onclick="clearSearch()">Ã—</button>
  </div>
</div>
    
<!-- === DISPLAY KHUSUS DISKON === -->
<div class="section" id="discountSection">
  <h2>Special Promo</h2>
  <div class="product-grid" id="discountGrid"></div>
</div>

<!-- Products Section -->
<div class="section">
  <h2>Our Products</h2>
  <div class="product-grid" id="productGrid">
    <!-- Products will be loaded here -->
  </div>

  <!-- Product Details Modal -->
  <div class="product-details-modal" id="productDetailsModal">
    <div class="close-details-btn" onclick="closeProductDetails()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 6L6 18M6 6l12 12"/>
      </svg>
    </div>

    <h1 class="page-title-details">Product Details</h1>

    <div class="product-section-details">
      <!-- IMAGE SLIDER KIRI -->
      <div class="image-slider-container">
        <div class="image-slider-details" id="detailsImageSlider">
          <!-- Images will be loaded here -->
        </div>
        <button class="slider-nav-btn prev" id="sliderPrevBtn" onclick="changeSlide(-1)">â€¹</button>
        <button class="slider-nav-btn next" id="sliderNextBtn" onclick="changeSlide(1)">â€º</button>
        <div class="image-counter" id="imageCounter">1 / 1</div>
        <div class="slider-dots" id="sliderDots"></div>
      </div>

      <!-- PRODUCT INFO KANAN -->
      <div class="product-info-details">
        <div class="section-title-details">Title</div>
        <div class="product-title-details" id="detailsTitle">Product Name</div>

        <div class="product-price-details" id="detailsPrice">Rp 0</div>

        <div class="section-title-details">Description</div>
        <div class="product-description-details" id="detailsDescription">
          Product description will appear here.
        </div>

        <button class="add-to-cart-details-btn" id="detailsAddToCartBtn">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- SIZE SELECTION MODAL (TERPISAH, TIDAK DI DALAM MODAL DETAIL!) -->
  <div class="size-modal" id="sizeModal">
    <div class="size-modal-content">
      <div class="size-modal-header">
        <h2 class="size-modal-title">Select Size</h2>
        <button class="size-modal-close" onclick="closeSizeModal()">Ã—</button>
      </div>

      <div class="size-product-info">
        <img src="" alt="" class="size-product-image" id="sizeProductImage">
        <div class="size-product-details">
          <div class="size-product-name" id="sizeProductName"></div>
          <div class="size-product-price" id="sizeProductPrice"></div>
        </div>
      </div>

      <label class="size-selection-label">Choose your size:</label>
      <div class="size-options" id="sizeOptions"></div>

      <button class="size-confirm-btn" id="sizeConfirmBtn" disabled>
        Add to Cart
      </button>
      <div class="size-error-message" id="sizeErrorMessage">
        Please select a size
      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div class="no-results" id="noResults">
    <h3>No Results</h3>
    <p>Try a different keywords</p>
  </div>
</div>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-column">
        <h3>About Us</h3>
        <p>Keyloops is a keychain designed with a simple, elegant, and high-quality style. Perfect as an accessory for your keys, bags, or as a special gift.</p>
      </div>

      <div class="footer-column">
        <h3>Contact Info</h3>
        <ul>
          <li>Phone: +62 823-8205-2250</li>
          <li>Email: literadia1@gmail.com</li>
        </ul>
      </div>
    </div>

    <div class="copyright">
      <p>&copy; 2025 Sneakrun. All rights reserved.</p>
    </div>
  </div>
</footer>

<!-- Cart Section -->
<div class="cart-section" id="cartSection">
  <div class="cart-header">
    <button class="close-cart" onclick="toggleCart()">Ã—</button>
    <h1>Your Cart</h1>
    <p>Review your items and proceed to checkout</p>
  </div>

  <div class="cart-content">
    <div class="customer-form">
      <h3>Customer Information</h3>
      <div class="form-row">
        <input type="text" class="input-field" placeholder="Your Name *" id="customerName">
        <input type="email" class="input-field" placeholder="Your Email *" id="customerEmail">
      </div>
      <div class="promo-section">
        <input type="text" class="input-field" placeholder="Promo Code (Optional)" id="promoCode">
        <button class="promo-btn" onclick="applyPromo()">Apply</button>
        <div id="promoMessage" style="margin-top:10px; font-size:14px; color:green;"></div>
      </div>
    </div>

    <div class="receipt-container">
      <div class="receipt-header">
        <div class="receipt-title">Order Summary</div>
        <div class="receipt-subtitle">Sneakrun Store</div>
      </div>

      <div class="receipt-items" id="cartItems">
        <div class="empty-cart">
          <div class="empty-cart-icon">ðŸ›’</div>
          <h3>Your cart is empty</h3>
          <p>Add some books to get started!</p>
          <button class="continue-shopping" onclick="toggleCart()">Continue Shopping</button>
        </div>
      </div>

      <div class="receipt-summary">
        <div class="summary-row total">
          <span>Total Amount</span>
          <span id="totalAmount">Rp 0</span>
        </div>
        <button class="checkout-btn" onclick="sendToWhatsApp()" id="checkoutBtn" disabled>
          Confirm
        </button>
      </div>
    </div>
  </div>
</div>

<script>
// ================================
// DATA PRODUK
// ================================
const products = [
  { 
    id: 1, 
    name: "Hyperglide 3.1", 
    price: 750000, 
    image: "11040135_HYPERGLIDE_3_1_-_LIGHT_GREY_ORTRANGEArtboard_1.jpg",
    images: [
      "11040135_HYPERGLIDE_3_1_-_LIGHT_GREY_ORTRANGEArtboard_1.jpg",
      "11040135_HYPERGLIDE_3_1_-_LIGHT_GREY_ORTRANGEArtboard_2.jpg",
      "11040135_HYPERGLIDE_3_1_-_LIGHT_GREY_ORTRANGEArtboard_5.jpg"
    ],
    sizes: [38, 39, 40, 41, 42, 43, 44, 45],
    description: "Sepatu sneakers premium dengan desain terinspirasi dari novel Laskar Pelangi. Material upper berkualitas tinggi dengan cushioning yang nyaman untuk aktivitas sehari-hari. Outsole karet anti-slip memberikan traksi maksimal. Cocok untuk gaya kasual maupun semi-formal."
  },
  { 
    id: 2, 
    name: "Bumi Manusia", 
    price: 92000, 
    image: "https://via.placeholder.com/150/95E1D3/FFFFFF?text=Bumi+Manusia",
    images: [
      "https://via.placeholder.com/460x360/95E1D3/FFFFFF?text=Bumi+Manusia+1",
      "https://via.placeholder.com/460x360/F38181/FFFFFF?text=Bumi+Manusia+2",
      "https://via.placeholder.com/460x360/AA96DA/FFFFFF?text=Bumi+Manusia+3",
      "https://via.placeholder.com/460x360/FCBAD3/FFFFFF?text=Bumi+Manusia+4"
    ],
    sizes: [36, 37, 38, 39, 40, 41, 42, 43],
    description: "Sneakers eksklusif dengan tema Bumi Manusia karya Pramoedya Ananta Toer. Desain elegan dengan finishing premium yang memberikan kesan mewah dan berkelas. Teknologi breathable mesh untuk sirkulasi udara optimal. Perfect choice untuk pecinta sastra dan fashion."
  },
  { 
    id: 3, 
    name: "Perahu Kertas", 
    price: 78000, 
    image: "https://via.placeholder.com/150/A8E6CF/FFFFFF?text=Perahu+Kertas",
    images: [
      "https://via.placeholder.com/460x360/A8E6CF/FFFFFF?text=Perahu+Kertas+1",
      "https://via.placeholder.com/460x360/FFD93D/FFFFFF?text=Perahu+Kertas+2"
    ],
    sizes: [37, 38, 39, 40, 41, 42],
    description: "Sepatu casual dengan desain unik berbentuk perahu kertas yang playful namun tetap stylish. Material canvas breathable dengan insole empuk untuk kenyamanan maksimal. Lightweight dan flexible, cocok untuk aktivitas outdoor maupun hangout santai bersama teman."
  },
  { 
    id: 4, 
    name: "Negeri 5 Menara", 
    price: 88000, 
    image: "https://via.placeholder.com/150/FFD93D/FFFFFF?text=Negeri+5+Menara",
    images: [
      "https://via.placeholder.com/460x360/FFD93D/FFFFFF?text=Negeri+5+Menara+1",
      "https://via.placeholder.com/460x360/6BCB77/FFFFFF?text=Negeri+5+Menara+2",
      "https://via.placeholder.com/460x360/4D96FF/FFFFFF?text=Negeri+5+Menara+3"
    ],
    sizes: [38, 39, 40, 41, 42, 43, 44, 45],
    description: "Sneakers eksklusif bertema Negeri 5 Menara dengan detail artistic yang memukau. Dilengkapi dengan midsole EVA yang empuk dan durable. Upper synthetic leather mudah dibersihkan. Desain timeless yang cocok untuk berbagai occasion, dari casual hingga semi-formal."
  },
  { 
    id: 5, 
    name: "Laskar Pelangi (Summary)", 
    price: 25000, 
    image: "https://via.placeholder.com/150/C7CEEA/FFFFFF?text=LP+Summary",
    images: [
      "https://via.placeholder.com/460x360/C7CEEA/FFFFFF?text=LP+Summary+1",
      "https://via.placeholder.com/460x360/FFDAC1/FFFFFF?text=LP+Summary+2",
      "https://via.placeholder.com/460x360/FF9AA2/FFFFFF?text=LP+Summary+3"
    ],
    sizes: [36, 37, 38, 39, 40, 41, 42],
    description: "Versi budget-friendly dari Laskar Pelangi sneakers dengan desain minimalis namun tetap eye-catching. Material berkualitas dengan harga terjangkau. Canvas upper yang breathable dan nyaman dipakai seharian. Perfect starter sneakers untuk koleksi sepatu kamu!"
  },
  { 
    id: 6, 
    name: "Bumi Manusia (Summary)", 
    price: 27000, 
    image: "https://via.placeholder.com/150/B5EAD7/FFFFFF?text=BM+Summary",
    images: [
      "https://via.placeholder.com/460x360/B5EAD7/FFFFFF?text=BM+Summary+1",
      "https://via.placeholder.com/460x360/E8DFF5/FFFFFF?text=BM+Summary+2"
    ],
    sizes: [37, 38, 39, 40, 41, 42, 43],
    description: "Sepatu compact dengan tema Bumi Manusia dalam versi simplified. Desain simpel dan modern yang mudah di-mix and match dengan berbagai outfit. Rubber outsole yang grippy dan tahan lama. Ideal untuk daily use dengan budget yang ramah di kantong. Great value for money!"
  },
  { 
    id: 7, 
    name: "Perahu Kertas (Summary)", 
    price: 22000, 
    image: "https://via.placeholder.com/150/E2F0CB/FFFFFF?text=PK+Summary",
    images: [
      "https://via.placeholder.com/460x360/E2F0CB/FFFFFF?text=PK+Summary+1",
      "https://via.placeholder.com/460x360/FFDFD3/FFFFFF?text=PK+Summary+2",
      "https://via.placeholder.com/460x360/FEC8D8/FFFFFF?text=PK+Summary+3"
    ],
    sizes: [36, 37, 38, 39, 40, 41],
    description: "Mini version dari Perahu Kertas sneakers dengan harga super affordable. Kualitas tetap terjaga dengan material yang awet dan tidak mudah pudar. Lightweight construction untuk kenyamanan maksimal. Cocok untuk pelajar dan mahasiswa yang ingin tampil stylish dengan budget terbatas."
  },
  { 
    id: 8, 
    name: "Negeri 5 Menara (Summary)", 
    price: 24000, 
    image: "https://via.placeholder.com/150/FEC8D8/FFFFFF?text=N5M+Summary",
    images: [
      "https://via.placeholder.com/460x360/FEC8D8/FFFFFF?text=N5M+Summary+1",
      "https://via.placeholder.com/460x360/957DAD/FFFFFF?text=N5M+Summary+2",
      "https://via.placeholder.com/460x360/D291BC/FFFFFF?text=N5M+Summary+3",
      "https://via.placeholder.com/460x360/E0BBE4/FFFFFF?text=N5M+Summary+4",
      "https://via.placeholder.com/460x360/FFDAB9/FFFFFF?text=N5M+Summary+5"
    ],
    sizes: [38, 39, 40, 41, 42, 43],
    description: "Sepatu praktis dengan desain terinspirasi dari Negeri 5 Menara dalam versi ekonomis. Ringan, compact, dan stylish dengan color options yang beragam. Padded collar untuk ankle support yang lebih baik. Sempurna untuk koleksi atau sebagai hadiah budget-friendly tanpa mengorbankan style dan kenyamanan."
  }
];

// ================================
// CONFIG DISKON & PROMO
// ================================
const discountRate = 15;
const discountProducts = [1, 2, 5]; // ID produk diskon
let isDiscountActive = true;
const promoList = {
  "DISKON20": { type: "percent", value: 20 },
  "GAG123": { type: "percent", value: 5 }
};
// ================================
// GLOBAL STATE
// ================================
let cart = [];
let currentDiscount = 0;
let appliedPromo = null;
let selectedSize = null;
let currentProductForSize = null;
let timer = null;

// ================================
// COUNTDOWN & DISKON STATUS
// ================================
const targetDate = new Date("2025-12-26T19:40:00").getTime();

function updateCountdown() {
  const now = new Date().getTime();
  const distance = targetDate - now;
  if (distance < 0) {
    document.querySelector(".countdown-title").textContent = "Promo berakhir ðŸ˜¢";
    document.getElementById("countdown").style.display = "none";
    isDiscountActive = false;
    hideDiscountDisplay();
    loadProducts();
    loadDiscountProducts();
    if (timer) clearInterval(timer);
    return;
  }
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  document.getElementById("days").textContent = days.toString().padStart(2, '0');
  document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
  document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
  document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
}

function hideDiscountDisplay() {
  const sec = document.getElementById("discountSection");
  if (sec) sec.style.display = "none";
}

// ================================
// RENDERING
// ================================
function loadProducts() {
  const grid = document.getElementById('productGrid');
  if (!grid) return;

  grid.innerHTML = products.map(product => {
    const isDiscount = isDiscountActive && discountProducts.includes(product.id);
    const finalPrice = isDiscount ? Math.round(product.price * (1 - discountRate / 100)) : product.price;
    return `
      <div class="product-card" data-name="${product.name.toLowerCase()}">
        <img src="${product.image}" alt="${product.name}" loading="lazy">
        <div class="product-name">${product.name}</div>
        <div class="product-price">
          ${isDiscount 
            ? `<s>Rp ${product.price.toLocaleString('id-ID')}</s> 
               <strong>Rp ${finalPrice.toLocaleString('id-ID')}</strong>`
            : `Rp ${product.price.toLocaleString('id-ID')}`
          }
        </div>
        ${isDiscount ? `<span class="product-badge">Promo</span>` : ''}
        <div class="product-actions">
          <button class="add-btn" onclick="addToCart(${product.id})">Add to Cart</button>
          <button class="details-btn-product" onclick="showProductDetails(${product.id})">View Details</button>
        </div>
      </div>
    `;
  }).join('');
}

function loadDiscountProducts() {
  const grid = document.getElementById("discountGrid");
  if (!grid || !isDiscountActive) {
    if (grid) grid.innerHTML = '';
    return;
  }
  const filtered = products.filter(p => discountProducts.includes(p.id));
  grid.innerHTML = filtered.map(product => {
    const discountPrice = Math.round(product.price * (1 - discountRate / 100));
    return `
      <div class="product-card" data-name="${product.name.toLowerCase()}">
        <img src="${product.image}" alt="${product.name}">
        <div class="product-name">${product.name}</div>
        <div class="product-price">
          <s>Rp ${product.price.toLocaleString('id-ID')}</s> 
          <strong>Rp ${discountPrice.toLocaleString('id-ID')}</strong>
        </div>
        <span class="product-badge">Promo</span>
        <button class="add-btn" onclick="addToCart(${product.id})">Add to Cart</button>
      </div>
    `;
  }).join('');
}

// ================================
// SIZE MODAL
// ================================
function showSizeModal(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;

  // Jika produk tidak punya size, langsung add
  if (!product.sizes || product.sizes.length === 0) {
    addToCartDirectly(productId);
    return;
  }

  currentProductForSize = product;
  selectedSize = null;

  const modal = document.getElementById('sizeModal');
  const img = document.getElementById('sizeProductImage');
  const name = document.getElementById('sizeProductName');
  const price = document.getElementById('sizeProductPrice');
  const opts = document.getElementById('sizeOptions');
  const btn = document.getElementById('sizeConfirmBtn');
  const err = document.getElementById('sizeErrorMessage');

  if (img) img.src = product.image;
  if (name) name.textContent = product.name;

  const isDiscount = isDiscountActive && discountProducts.includes(productId);
  const finalPrice = isDiscount ? Math.round(product.price * (1 - discountRate / 100)) : product.price;
  if (price) {
    price.innerHTML = isDiscount
      ? `<s style="color:#999;font-size:14px;">Rp ${product.price.toLocaleString('id-ID')}</s><br>Rp ${finalPrice.toLocaleString('id-ID')}`
      : `Rp ${product.price.toLocaleString('id-ID')}`;
  }

  // âœ… Buat size options dengan event listener DOM-based (lebih aman)
  if (opts) {
    opts.innerHTML = '';
    product.sizes.forEach(size => {
      const el = document.createElement('div');
      el.className = 'size-option';
      el.textContent = size;
      el.addEventListener('click', () => selectSize(size));
      opts.appendChild(el);
    });
  }

  if (btn) {
    btn.disabled = true;
    btn.onclick = confirmSizeSelection;
  }
  if (err) err.style.display = 'none';

  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function selectSize(size) {
  selectedSize = size;

  // UI update: highlight selected
  document.querySelectorAll('.size-option').forEach(el => el.classList.remove('selected'));
  const selectedEl = Array.from(document.querySelectorAll('.size-option'))
    .find(el => el.textContent.trim() === size.toString());
  if (selectedEl) selectedEl.classList.add('selected');

  // Enable button & hide error
  const btn = document.getElementById('sizeConfirmBtn');
  const err = document.getElementById('sizeErrorMessage');
  if (btn) btn.disabled = false;
  if (err) err.style.display = 'none';
}

function confirmSizeSelection() {
  if (!selectedSize || !currentProductForSize) {
    const err = document.getElementById('sizeErrorMessage');
    if (err) {
      err.textContent = 'Please select a size';
      err.style.display = 'block';
    }
    return;
  }
  addToCartWithSize(currentProductForSize.id, selectedSize);
  closeSizeModal();
}

function closeSizeModal() {
  const modal = document.getElementById('sizeModal');
  if (modal) {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
  }
  selectedSize = null;
  currentProductForSize = null;
}

// âœ… FUNGSI UTAMA: Dipanggil dari tombol "Add to Cart"
function addToCart(productId) {
  showSizeModal(productId); // âœ… ini satu-satunya versi yang dipakai
}

// Jika produk tanpa size
function addToCartDirectly(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;
  const isDiscount = isDiscountActive && discountProducts.includes(productId);
  const finalPrice = isDiscount ? Math.round(product.price * (1 - discountRate / 100)) : product.price;

  const existingItem = cart.find(item => item.id === productId && item.size == null);
  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push({
      ...product,
      quantity: 1,
      finalPrice,
      size: null
    });
  }

  saveCartToLocalStorage();
  updateCartDisplay();
  showNotification(`${product.name} added to cart!`);
}

// Dengan size
function addToCartWithSize(productId, size) {
  const product = products.find(p => p.id === productId);
  if (!product) return;
  const isDiscount = isDiscountActive && discountProducts.includes(productId);
  const finalPrice = isDiscount ? Math.round(product.price * (1 - discountRate / 100)) : product.price;

  const existingItem = cart.find(item => item.id === productId && item.size === size);
  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push({
      ...product,
      quantity: 1,
      finalPrice,
      size
    });
  }

  saveCartToLocalStorage();
  updateCartDisplay();
  showNotification(`${product.name} (Size ${size}) added to cart!`);
}

// ================================
// CART DISPLAY & UPDATE
// ================================
function updateCartDisplay() {
  const cartCount = document.getElementById('cartCount');
  const cartItems = document.getElementById('cartItems');
  const totalAmount = document.getElementById('totalAmount');
  const checkoutBtn = document.getElementById('checkoutBtn');

  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  const subtotal = cart.reduce((sum, item) => sum + ((item.finalPrice || item.price) * item.quantity), 0);
  const total = subtotal - (subtotal * currentDiscount / 100);

  // Cart badge
  if (cartCount) {
    cartCount.textContent = totalItems;
    cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
  }

  // Items display
  if (cartItems) {
    if (cart.length === 0) {
      cartItems.innerHTML = `
        <div class="empty-cart">
          <div class="empty-cart-icon">ðŸ›’</div>
          <h3>Your cart is empty</h3>
          <p>Add some books to get started!</p>
          <button class="continue-shopping" onclick="toggleCart()">Continue Shopping</button>
        </div>
      `;
      if (checkoutBtn) checkoutBtn.disabled = true;
    } else {
      cartItems.innerHTML = cart.map(item => {
        const itemPrice = item.finalPrice || item.price;
        const sizeText = item.size ? `<div style="font-size:13px;color:#666;margin-top:3px;">Size: ${item.size}</div>` : '';
        return `
          <div class="receipt-item">
            <img src="${item.image}" alt="${item.name}" class="item-image">
            <div class="item-info">
              <div class="item-name">${item.name}${sizeText}</div>
              <div class="item-controls">
                <button class="qty-btn" onclick="updateQuantity(${item.id}, -1, ${item.size === null ? 'null' : `'${item.size}'`})">-</button>
                <span class="quantity">${item.quantity}</span>
                <button class="qty-btn" onclick="updateQuantity(${item.id}, 1, ${item.size === null ? 'null' : `'${item.size}'`})">+</button>
              </div>
            </div>
            <div class="item-price">Rp ${(itemPrice * item.quantity).toLocaleString('id-ID')}</div>
          </div>
        `;
      }).join('');
      if (checkoutBtn) checkoutBtn.disabled = false;
    }
  }

  if (totalAmount) {
    totalAmount.textContent = `Rp ${total.toLocaleString('id-ID')}`;
  }
}

function updateQuantity(productId, change, size = null) {
  const item = cart.find(i => i.id === productId && (size === null || i.size === size));
  if (item) {
    item.quantity += change;
    if (item.quantity <= 0) {
      cart = cart.filter(i => !(i.id === productId && (size === null || i.size === size)));
    }
  }
  saveCartToLocalStorage();
  updateCartDisplay();
}

// ================================
// LOCALSTORAGE
// ================================
function saveCartToLocalStorage() {
  localStorage.setItem('literadiaCart', JSON.stringify(cart));
  localStorage.setItem('literadiaPromo', JSON.stringify(appliedPromo));
  localStorage.setItem('literadiaDiscount', currentDiscount.toString());
}

function loadCartFromLocalStorage() {
  const savedCart = localStorage.getItem('literadiaCart');
  const savedPromo = localStorage.getItem('literadiaPromo');
  const savedDiscount = localStorage.getItem('literadiaDiscount');
  
  if (savedCart) cart = JSON.parse(savedCart);
  if (savedPromo) appliedPromo = JSON.parse(savedPromo);
  if (savedDiscount) currentDiscount = parseFloat(savedDiscount);
}

function clearCartFromLocalStorage() {
  localStorage.removeItem('literadiaCart');
  localStorage.removeItem('literadiaPromo');
  localStorage.removeItem('literadiaDiscount');
}

// ================================
// PROMO
// ================================
function applyPromo() {
  const input = document.getElementById("promoCode");
  const msg = document.getElementById("promoMessage");
  if (!input || !msg) return;

  const code = input.value.trim().toUpperCase();
  input.value = '';

  if (appliedPromo) {
    msg.style.color = "red";
    msg.textContent = "Promo sudah digunakan.";
    return;
  }

  if (promoList[code]) {
    const promo = promoList[code];
    appliedPromo = { code, ...promo };
    currentDiscount = promo.value;
    msg.style.color = "green";
    msg.textContent = `Promo ${code} berhasil! Diskon ${promo.value}%`;
    saveCartToLocalStorage();
    updateCartDisplay();
  } else if (code) {
    msg.style.color = "red";
    msg.textContent = "Kode promo tidak valid.";
  }
}

// ================================
// WHATSAPP & CHECKOUT
// ================================
function sendToWhatsApp() {
  const name = document.getElementById('customerName')?.value.trim();
  const email = document.getElementById('customerEmail')?.value.trim();
  if (!name || !email) {
    alert('Please fill in your name and email');
    return;
  }
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    alert('Please enter a valid email address');
    return;
  }

  const subtotal = cart.reduce((sum, item) => sum + ((item.finalPrice || item.price) * item.quantity), 0);
  const total = subtotal - (subtotal * currentDiscount / 100);

  let message = `*Sneakrun Store Order*\n`;
  message += `Customer: ${name}\n`;
  message += `Email: ${email}\n`;
  message += `*ORDER DETAILS:*\n`;
  cart.forEach(item => {
    const price = item.finalPrice || item.price;
    const sizeText = item.size ? ` (Size: ${item.size})` : '';
    message += `â€¢ ${item.name}${sizeText}\n`;
    message += `  Qty: ${item.quantity} x Rp ${price.toLocaleString('id-ID')}\n`;
    message += `  Subtotal: Rp ${(price * item.quantity).toLocaleString('id-ID')}\n`;
  });
  if (currentDiscount > 0) {
    message += `Subtotal: Rp ${subtotal.toLocaleString('id-ID')}\n`;
    message += `Discount (${currentDiscount}%): -Rp ${(subtotal * currentDiscount / 100).toLocaleString('id-ID')}\n`;
  }
  message += `*TOTAL: Rp ${total.toLocaleString('id-ID')}*\n`;
  message += `Thank you for your order!`;

  window.open(`https://wa.me/082382052250?text=${encodeURIComponent(message)}`, '_blank');

  // Clear after 1 sec
  setTimeout(() => {
    cart = [];
    appliedPromo = null;
    currentDiscount = 0;
    clearCartFromLocalStorage();
    updateCartDisplay();
    toggleCart();
    document.getElementById('customerName').value = '';
    document.getElementById('customerEmail').value = '';
    document.getElementById('promoMessage').textContent = '';
  }, 1000);
}

// ================================
// PRODUCT DETAILS MODAL
// ================================
let currentSlideIndex = 0;
let totalSlides = 0;

function showProductDetails(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;

  const modal = document.getElementById('productDetailsModal');
  const title = document.getElementById('detailsTitle');
  const price = document.getElementById('detailsPrice');
  const desc = document.getElementById('detailsDescription');
  const slider = document.getElementById('detailsImageSlider');
  const dots = document.getElementById('sliderDots');
  const btn = document.getElementById('detailsAddToCartBtn');

  if (title) title.textContent = product.name;

  const isDiscount = isDiscountActive && discountProducts.includes(productId);
  const finalPrice = isDiscount ? Math.round(product.price * (1 - discountRate / 100)) : product.price;

  if (price) {
    price.innerHTML = isDiscount
      ? `<s style="color:#999;font-size:20px;">Rp ${product.price.toLocaleString('id-ID')}</s><br>Rp ${finalPrice.toLocaleString('id-ID')}`
      : `Rp ${product.price.toLocaleString('id-ID')}`;
  }

  if (desc) desc.textContent = product.description;

  // Images
  const images = product.images || [product.image];
  totalSlides = images.length;
  currentSlideIndex = 0;

  if (slider) {
    slider.innerHTML = images.map((src, i) => 
      `<img src="${src}" alt="${product.name}" class="${i === 0 ? 'active' : ''}">`
    ).join('');
  }

  if (dots) {
    dots.innerHTML = images.map((_, i) => 
      `<div class="slider-dot ${i === 0 ? 'active' : ''}" onclick="goToSlide(${i})"></div>`
    ).join('');
  }

  updateSliderDisplay();

  if (btn) {
    btn.onclick = () => {
      addToCart(productId);
      closeProductDetails();
    };
  }

  if (modal) {
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
}

function closeProductDetails() {
  const modal = document.getElementById('productDetailsModal');
  if (modal) {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
  }
}

function changeSlide(dir) {
  currentSlideIndex = (currentSlideIndex + dir + totalSlides) % totalSlides;
  updateSliderDisplay();
}

function goToSlide(index) {
  currentSlideIndex = index;
  updateSliderDisplay();
}

function updateSliderDisplay() {
  const imgs = document.querySelectorAll('#detailsImageSlider img');
  const counter = document.getElementById('imageCounter');
  const prev = document.getElementById('sliderPrevBtn');
  const next = document.getElementById('sliderNextBtn');
  const dots = document.querySelectorAll('.slider-dot');

  imgs.forEach((img, i) => img.classList.toggle('active', i === currentSlideIndex));
  dots.forEach((dot, i) => dot.classList.toggle('active', i === currentSlideIndex));

  if (counter) counter.textContent = `${currentSlideIndex + 1} / ${totalSlides}`;
  if (prev && next) {
    if (totalSlides <= 1) {
      prev.style.display = 'none';
      next.style.display = 'none';
    } else {
      prev.style.display = 'flex';
      next.style.display = 'flex';
    }
  }
}

// ================================
// SEARCH & UI
// ================================
function searchKeychain() {
  const query = document.getElementById('searchInput')?.value.toLowerCase() || '';
  const cards = document.querySelectorAll('.product-card');
  const clear = document.getElementById('searchClear');
  const noRes = document.getElementById('noResults');

  let found = false;
  cards.forEach(card => {
    const name = card.getAttribute('data-name');
    const visible = name?.includes(query);
    card.classList.toggle('hidden', !visible);
    if (visible) found = true;
  });

  if (clear) clear.style.display = query ? 'block' : 'none';
  if (noRes) noRes.style.display = query && !found ? 'block' : 'none';
}

function clearSearch() {
  const inp = document.getElementById('searchInput');
  if (inp) inp.value = '';
  searchKeychain();
}

function toggleCart() {
  const cartSection = document.getElementById('cartSection');
  if (!cartSection) return;

  const isOpen = cartSection.style.display === 'block';
  cartSection.style.display = isOpen ? 'none' : 'block';
  document.body.style.overflow = isOpen ? 'auto' : 'hidden';
}

function scrollToProducts() {
  const firstSection = document.querySelector('.section');
  if (firstSection) {
    window.scrollTo({ top: firstSection.offsetTop - 20, behavior: 'smooth' });
  }
}

function showNotification(msg) {
  const notif = document.createElement('div');
  notif.textContent = msg;
  notif.style.cssText = `
    position: fixed; top: 80px; right: 20px; background: #4CAF50; color: white;
    padding: 15px 25px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 10000; animation: slideIn 0.3s ease-out;
  `;
  document.body.appendChild(notif);
  setTimeout(() => {
    notif.style.animation = 'slideOut 0.3s ease-in';
    setTimeout(() => notif.remove(), 300);
  }, 2000);
}

// ================================
// KEYBOARD SUPPORT
// ================================
document.addEventListener('keydown', (e) => {
  // Size modal
  const sizeModal = document.getElementById('sizeModal');
  if (sizeModal?.classList.contains('active')) {
    if (e.key === 'Escape') closeSizeModal();
    else if (e.key === 'Enter' && selectedSize) confirmSizeSelection();
  }

  // Product modal
  const prodModal = document.getElementById('productDetailsModal');
  if (prodModal?.classList.contains('active')) {
    if (e.key === 'ArrowLeft') changeSlide(-1);
    else if (e.key === 'ArrowRight') changeSlide(1);
    else if (e.key === 'Escape') closeProductDetails();
  }

  // Promo
  const promoInput = document.getElementById('promoCode');
  if (promoInput === document.activeElement && e.key === 'Enter') {
    e.preventDefault();
    applyPromo();
  }
});

// ================================
// INIT
// ================================
document.addEventListener('DOMContentLoaded', () => {
  loadCartFromLocalStorage();
  loadProducts();
  loadDiscountProducts();
  updateCartDisplay();
  updateCountdown();
  timer = setInterval(updateCountdown, 1000);

  const cartSection = document.getElementById('cartSection');
  if (cartSection) {
    cartSection.addEventListener('click', e => {
      if (e.target === cartSection) toggleCart();
    });
  }
});

</script>
</body>
</html>





